<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Exercício de Problemas de Parsons</title>
        <link href="./parsons.css" rel="stylesheet" />
        <link href="./lib/prettify.css" rel="stylesheet" />
        <link href="./personalStyle.css" rel="stylesheet"/>
        <script src="./lib/prettify.js"></script>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@600&display=swap" rel="stylesheet">
    </head>
    <body>
        
        <div class="container justify-content-center">
            <div class="row">
                <h2 class="pageTitle">Exercício de Problemas de Parsons</h2>
            </div>

            <div class="row">
                <p id="enunciado">Enunciado</p>
            </div>
            <!-- DICA -->
            
            <div class="codeBlocks">
                <div id="sortableTrash" class="sortable-code"></div>
                <div id="sortable" class="sortable-code"></div>
            </div>
                
            <div style="clear:both;"></div>
            
            <div class="buttons">
                <a href="#" id="newInstanceLink">Resetar</a>
                <a href="#" id="feedbackLink">Conferir</a>
                <a href="#" id="btnDica">Dica</a> <!-- DICA -->
                <a href="#" id="nextLevel" hidden>Próximo Nivel</a>
            </div>
            
            <div class="row">
                <p id="dica" hidden>Dica: Atenção com a identação do código gerado.</p>
                <div class="correctConfirmationArea">
                    <p id="correctConfirmation" hidden>Parabéns, você acertou!</p>
                </div>
            </div>
            
        </div>


        <!-- Script -->
        <script src="./lib/jquery.min.js"></script>
        <script src="./lib/jquery-ui.min.js"></script>
        <script src="./lib/jquery.ui.touch-punch.min.js"></script>
        <script src="./lib/underscore-min.js"></script>
        <script src="./lib/lis.js"></script>
        <script src="./parsons.js"></script>
        <script>
        var initial = 'def is_true(boolean_value):\n' 

        

        function displayErrors(fb) {
            if(fb.errors.length > 0) {
                alert(fb.errors[0]);
            }
        } 

        $(document).ready(function(){
            var parson = new ParsonsWidget({
                'sortableId': 'sortable',
                'trashId': 'sortableTrash',
                'max_wrong_lines': 1,
                'feedback_cb' : displayErrors,
                'lang': 'ptbr'
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function(event){
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function(event){
                event.preventDefault();
                var fb = parson.getFeedback();
                if (fb.success) {
                    $("#correctConfirmation").show().css("display", "inline-block");
                    $("#nextLevel").show();
                }
            });
        });

        $("#btnDica").click(function() {
            $("#dica").show();
        });

        </script>
    </body>
</html>
